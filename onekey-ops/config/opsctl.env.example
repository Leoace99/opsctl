# OneKey Ops 配置文件（示例）
#
# 安装后默认位置：/etc/onekey-ops/opsctl.env
# 你可以直接复制本文件为 opsctl.env，然后按需修改。
#
# 注意：
# - 里面涉及 PROXY_API / Telegram Token / SSH 目标等敏感信息，建议不要提交到 GitHub。
# - 建议把 /etc/onekey-ops/opsctl.env 设为 600 权限。

# ===== 基础路径（一般不用改） =====
BASE_DIR=/opt/onekey-ops
CONFIG_DIR=/etc/onekey-ops
LOG_DIR=/var/log/onekey-ops
STATE_DIR=/var/lib/onekey-ops

# ===== origin-monitor：直连源站探测 + 报警 =====
ORIGIN_TARGETS_FILE=/etc/onekey-ops/origin_targets.conf
ORIGIN_LOG_FILE=/var/log/onekey-ops/origin_monitor.log
ORIGIN_TIMEOUT=5
ORIGIN_ALERT_INTERVAL=3600

# 报警方式：none|ssh|telegram
# - none：只记录日志
# - ssh：ssh 到一台“报警中转机”，执行远程脚本（兼容你当前的 /opt/telegram_send.sh）
# - telegram：本机直接调用 Telegram Bot API
ORIGIN_ALERT_METHOD=none

# ssh 中转报警（ORIGIN_ALERT_METHOD=ssh 时使用）
ORIGIN_SSH_KEY=/root/.ssh/id_rsa
ORIGIN_ALERT_HOST=
ORIGIN_ALERT_CMD=/opt/telegram_send.sh
ORIGIN_SSH_OPTS="-o BatchMode=yes -o ConnectTimeout=5"

# 期望 HTTP 状态码（你的原脚本严格要求 200）
ORIGIN_EXPECT_HTTP_CODE=200

# targets.conf 行里字段缺省时使用的默认值
ORIGIN_DEFAULT_PORT=443
ORIGIN_DEFAULT_PATH=/
ORIGIN_DEFAULT_SLOW_TIME=5
ORIGIN_DEFAULT_SCHEME=https

# ===== cn-check：国内直连/代理探测 + JSON 输出 + 可选推送 =====
CN_DOMAINS_FILE=/etc/onekey-ops/domains.txt
CN_LOG_FILE=/var/log/onekey-ops/cn_check.log
CN_RESULT_FILE=/var/lib/onekey-ops/result_cn.json
CN_TIMEOUT=8
CN_MAX_PROXY_RETRY=2

# 代理 API（你的原脚本是 juliangip 的接口）。强烈建议只放在服务器本地，不要提交。
# 示例：
# CN_PROXY_API="http://v2.api.juliangip.com/...&trade_no=...&sign=..."
CN_PROXY_API=

# 是否将 result_cn.json 推送到国外服务器（0|1）
CN_PUSH_ENABLE=0
CN_PUSH_USER=root
CN_PUSH_HOST=
CN_PUSH_DIR=/opt/qiangcsgfw_foreign
# 如果需要指定 key：
# CN_PUSH_SSH_KEY=/root/.ssh/id_rsa
CN_PUSH_SSH_KEY=
CN_PUSH_SCP_OPTS="-o BatchMode=yes -o ConnectTimeout=5"

# ===== Telegram 直发（ORIGIN_ALERT_METHOD=telegram 时使用） =====
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
